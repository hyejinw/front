<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>과제.html</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<script>
  'use strict';
  let items = [];
  let deleteItems = [];
  let str;
  
  function add() {
    let item = document.getElementById("item").value;
    if(item == '') alert("상품을 선택해주세요.");

    else {
      for(let i=0; i<myform.item.length; i++) {
        if(myform.item.options[i].selected) {
          items.push(document.getElementById("item")[i].value);
        }
      }
    }
  }

  function fClear() {
    let item = document.getElementById("item").value;

    if(item == '') alert("삭제할 상품을 선택해주세요.");

    else {
      for(let i=0; i<myform.item.length; i++) {
        if(myform.item.options[i].selected) {
          let val = document.getElementById("item")[i].value;
          let num = items.indexOf(val);
          
          if(num == -1) {
            if(val == 0) val = '오렌지';
            else if(val == 1) val = '자몽';
            else if(val == 2) val = '포도';
            else if(val == 3) val = '아보카도';
            else if(val == 4) val = '용과';
            else if(val == 5) val = '코코넛';
            else if(val == 6) val = '파인애플';
            else if(val == 7) val = '바나나';
            else if(val == 8) val = '참외';
            else val = '고구마';
            
            alert("선택하신 "+val+"는 장바구니에 없습니다.")
          }
          else items.splice(num,1);
        }
      }
      basket();
    }
  }

  function basket() {
    if(items == '') alert("장바구니가 비어있습니다.");

    else {
      str = '';
      str += '<div class="pr-5 pl-5">';
      
      for(let i=0; i<items.length; i++) {
          str += '<span><img src=../images1/'+items[i]+'.jpg width=200px class="m-3 text-center" /></span>';
        }
        str += '</div>';
        basterList.innerHTML = str;
    }
  }

</script>
<body>
<p><br /></p>
<div class="container">
  <h2 class="text-center text-primary">장바구니</h2>
  <table class="table">
    <form name="myform">
      <tr>
        <td>
          <select name="item" id="item" size="11" multiple class="form-control">
            <option value="">선택하세요</option>

            <option value="0" onmouseover="document.getElementById('demo').innerHTML='<img src=../images1/0.jpg width=200px />'"
            onmouseout="document.getElementById('demo').innerHTML=''">오렌지</option>
            
            <option value="1" onmouseover="document.getElementById('demo').innerHTML='<img src=../images1/1.jpg width=200px />'"
            onmouseout="document.getElementById('demo').innerHTML=''">자몽</option>
            <option value="2" onmouseover="document.getElementById('demo').innerHTML='<img src=../images1/2.jpg width=200px />'"
            onmouseout="document.getElementById('demo').innerHTML=''">포도</option>
            <option value="3" onmouseover="document.getElementById('demo').innerHTML='<img src=../images1/3.jpg width=200px />'"
            onmouseout="document.getElementById('demo').innerHTML=''">아보카도</option>
            <option value="4" onmouseover="document.getElementById('demo').innerHTML='<img src=../images1/4.jpg width=200px />'"
            onmouseout="document.getElementById('demo').innerHTML=''">용과</option>
            <option value="5" onmouseover="document.getElementById('demo').innerHTML='<img src=../images1/5.jpg width=200px />'"
            onmouseout="document.getElementById('demo').innerHTML=''">코코넛</option>
            <option value="6" onmouseover="document.getElementById('demo').innerHTML='<img src=../images1/6.jpg width=200px />'"
            onmouseout="document.getElementById('demo').innerHTML=''">파인애플</option>
            <option value="7" onmouseover="document.getElementById('demo').innerHTML='<img src=../images1/7.jpg width=200px />'"
            onmouseout="document.getElementById('demo').innerHTML=''">바나나</option>
            <option value="8" onmouseover="document.getElementById('demo').innerHTML='<img src=../images1/8.jpg width=200px />'"
            onmouseout="document.getElementById('demo').innerHTML=''">참외</option>
            <option value="9" onmouseover="document.getElementById('demo').innerHTML='<img src=../images1/9.jpg width=200px />'"
            onmouseout="document.getElementById('demo').innerHTML=''">고구마</option>
          </select>
        </td>
        <td id="demo" colspan="2"></td>
      </tr>
      <tr>
        <td><button type="button" onclick="add()" class="badge badge-pill badge-primary form-control" >상품 추가</button></td>
        <td><button type="button" onclick="fClear()" class="badge badge-pill badge-warning form-control" >상품 삭제</button></td>
        <td><button type="button" onclick="basket()" class="badge badge-pill badge-success form-control" >장바구니 확인</button></td>
      </tr>
    </form>
  </table>
  <div>
    <div id="basterList" class="bg-warning"></div>
  </div>
</div>
<p><br /></p>
</body>
</html>
